---
layout: post
title:  尝试一下PostgreSQL
tagline: by 付义帆
categories: PostgreSQL
tags:
- PostgreSQL
---

大家好，我是了不起。

很早就听说一个很火的数据库叫PostgreSQL，也是一个热门的开的关系型数据库，今天了不起就带大家使用一下这个数据库。

<!--more-->

### 认识PostgreSQL

PostgreSQL 是一款开源的、高度可扩展的关系型数据库管理系统 (RDBMS)。它由一个强大的开发社区支持，自1996年以来持续不断地发展和改进。

它支持高级功能，如复杂的查询、事务、触发器和许多其他数据库功能。PostgreSQL 以其可靠性、性能和可扩展性而闻名，广泛用于各种应用程序和项目中。

### 为什么选择 PostgreSQL？

#### 1. 开源和免费

PostgreSQL 是开源的，这意味着你可以免费使用、修改和分发它。这降低了项目的成本，尤其是对于初创公司或预算有限的项目来说，这一点至关重要。

#### 2. 高级功能

PostgreSQL 提供了丰富的高级功能，如支持 JSON 数据类型、全文搜索、地理信息系统（GIS）支持等。它还支持复杂的查询、触发器和存储过程，使你能够在数据库层面执行更多的业务逻辑。

#### 3. 可扩展性

PostgreSQL 具有出色的可扩展性，支持插件和扩展，这使得你可以自定义功能并添加新的数据类型、函数和操作符。这意味着你可以根据项目的需求灵活地定制数据库。

#### 4. 事务支持

PostgreSQL 支持 ACID（原子性、一致性、隔离性和持久性）事务，确保数据的一致性和完整性。这对于需要可靠性的应用程序非常重要。

#### 5. 多版本并发控制（MVCC）

PostgreSQL 使用多版本并发控制来处理并发访问，这意味着多个用户可以同时访问和修改数据库，而不会互相干扰。这提高了数据库的性能和可用性。

### 使用PostgreSQL

#### 安装并启动 PostgreSQL

首先，你需要在你的计算机上安装 PostgreSQL。

从官方网站（https://www.postgresql.org/）下载适合你操作系统的安装包，并按照安装向导的说明进行安装。

安装步骤很简单，这里就不写了。

#### 简单使用

```sql
CREATE TABLE students (
    id serial PRIMARY KEY,
    first_name VARCHAR (50),
    last_name VARCHAR (50),
    age INT
);

INSERT INTO students (first_name, last_name, age)
VALUES ('John', 'Doe', 25),
       ('Jane', 'Smith', 22);

```

`serial` 是 PostgreSQL 数据库中用于自动生成唯一标识符（通常是整数）的一种数据类型。在这里也就是：自增id。

它还有 `bigserial`适用于需要更大范围的自增值的情况。

可以看出来SQL语句和MySQL略有区别，但是大部分都是一模一样的，把数据库从MySQL切换成 PostgreSQL，不会有很大改动。

### PostgreSQL和MySQL的异同

**相似点**：

1. **数据模型**：PostgreSQL和MySQL都支持相似的数据模型，包括表、列、索引和触发器等。
2. **SQL支持**：两者都遵循SQL标准，并支持复杂的SQL查询、事务、存储过程和触发器等。
3. **开源性质**：PostgreSQL和MySQL都是开源的，可以免费使用、修改和分发。
4. **多版本并发控制（MVCC）**：两者都使用MVCC来处理并发访问，确保数据的一致性和完整性。
5. **可扩展性**：PostgreSQL和MySQL都具有一定程度的可扩展性，允许用户添加自定义函数、数据类型和操作符。

**不同点**：

1. **许可证**：
   - PostgreSQL 使用 PostgreSQL 许可证，这是一种灵活的开源许可证。
   - MySQL 使用 GNU General Public License（GPL）或商业许可证，这意味着如果你要将MySQL用于商业目的，可能需要购买商业许可证。
2. **数据类型**：
   - PostgreSQL支持更多的内置数据类型，包括数组、JSON、UUID、CIDR等，使其在处理各种类型的数据时更加灵活。
   - MySQL则相对较少内置数据类型，需要通过扩展来支持一些高级数据类型。
3. **性能**：
   - 在某些情况下，PostgreSQL在处理复杂查询和大型数据集时可能表现更好。
   - MySQL在处理大量读操作时可能更快，特别是在某些存储引擎（如InnoDB）下。
4. **全文搜索**：
   - PostgreSQL具有内置的全文搜索功能，支持各种语言和高级搜索选项。
   - MySQL的全文搜索功能较弱，需要使用外部插件或其他搜索引擎来实现类似的功能。
5. **复制和高可用性**：
   - PostgreSQL提供了内置的流复制和逻辑复制功能，以支持高可用性和备份。
   - MySQL有多种复制方式，包括主从复制和多主复制，使其在高可用性方面也有很好的支持。
6. **社区和生态系统**：
   - MySQL拥有庞大的用户和开发社区，以及丰富的第三方工具和插件生态系统。
   - PostgreSQL的社区也非常活跃，虽然规模较小，但提供了高质量的支持和插件。



PostgreSQL 和 MySQL 都是强大的数据库管理系统，可以满足各种不同类型的应用程序需求，但它们在某些领域具有各自的优势。

### 小结

PostgreSQL 是一个功能强大且灵活的数据库管理系统，适用于各种不同类型的应用程序。在选择数据库时，应仔细考虑你的应用程序的需求，以确保选择的数据库系统最适合你的特定用例。
